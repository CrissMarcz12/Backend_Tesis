# ========================================
# CONFIGURACIÓN DE BACKEND - VARIABLES DE ENTORNO
# ========================================

# --- Base de Datos PostgreSQL ---
DATABASE_URL=postgresql://usuario:password@host:5432/nombre_base_datos

# --- Configuración de Servidor ---
NODE_ENV=development
PORT=3000

# --- CORS ---
# Para desarrollo local: CORS_ALLOW_ALL=true
# Para producción: CORS_ALLOW_ALL=false y especificar dominios
CORS_ALLOW_ALL=true
FRONTEND_URL=http://localhost:5173
CORS_EXTRA_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# --- Sesiones ---
# Genera un secreto único con: openssl rand -base64 32
# ⚠️ IMPORTANTE: NO uses el mismo valor que GOOGLE_CLIENT_SECRET
SESSION_SECRET=tu_session_secret_unico_aqui

# --- Autenticación Google OAuth ---
GOOGLE_CLIENT_ID=tu_google_client_id
GOOGLE_CLIENT_SECRET=tu_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# --- Servicio RAG (AI) ---
RAG_API_URL=http://localhost:8000/rag/query
RAG_DEFAULT_TOP_K=5
RAG_DEFAULT_EVALUATE=true
RAG_TIMEOUT_MS=60000

# --- SMTP (Correo Electrónico) ---
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=tu_email@gmail.com
SMTP_PASS=tu_app_password

# ========================================
# CONFIGURACIÓN PARA PRODUCCIÓN (Render)
# ========================================

# NODE_ENV=production
# PORT=10000
# CORS_ALLOW_ALL=false
# FRONTEND_URL=https://main.d2htzx0rfkpybz.amplifyapp.com
# CORS_EXTRA_ORIGINS=https://main.d2htzx0rfkpybz.amplifyapp.com
# SESSION_SECRET=genera_uno_nuevo_con_openssl_rand_base64_32
# GOOGLE_REDIRECT_URI=https://backend-tesis-zzvh.onrender.com/auth/google/callback
# RAG_API_URL=http://tu_servicio_rag:8000/rag/query

# ========================================
# NOTAS IMPORTANTES
# ========================================
#
# 1. SESSION_SECRET debe ser DIFERENTE de GOOGLE_CLIENT_SECRET
# 2. Para producción, usa CORS_ALLOW_ALL=false y especifica dominios exactos
# 3. En Render, SSL se maneja automáticamente (db.js tiene ssl: false)
# 4. Las sesiones se guardan en PostgreSQL (tabla user_sessions)
# 5. maxAge de cookies: 24 horas (configurable en server.js)
